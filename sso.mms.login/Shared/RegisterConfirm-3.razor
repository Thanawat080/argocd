@using sso.mms.helper.Data;
@using sso.mms.login.ViewModels;
@inject NavigationManager NavigationManager

<div class="bg-reg-color">
    <MediaStyle></MediaStyle>
    <div class="container" style="padding-top:45px;padding-bottom:45px;">
        <div class="card" style="height:798px;border-radius: 24px;box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.05);">
            <div class="text-title p-4 pb-4">ยืนยันเรียบร้อย</div>
            <div class="p-4"></div>
            <div class="container pt-8" align="center">
                <div class="position-relative " style="width:75%">
                    <div class="progress" style="height: 6px;">
                        <div class="progress-bar" role="progress" style="width: 100%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
                <div class="container position-relative " style="width:50%">
                    <img class="position-absolute top-0 start-0 translate-middle rounded-pill" src="css/Data/Assets/Images/check.png" style="width: 77px; height:77px;" />
                    <img class="position-absolute top-0 start-50 translate-middle rounded-pill" src="css/Data/Assets/Images/check.png" style="width: 77px; height:77px;" />
                    <img class="position-absolute top-0 start-100 translate-middle rounded-pill" src="css/Data/Assets/Images/check.png" style="width: 77px; height:77px;" />
                </div>
                <div class="container position-relative" style="width:50%">
                    <div class="row">
                        <p class="position-absolute top-0 start-0 translate-middle rounded-pill" style="padding-top:100px;">ยืนยันตัวตนกรมปกครอง </p>
                        <p class="position-absolute top-0 start-50 translate-middle rounded-pill" style="padding-top:100px;">ยืนยันตัวตนดิจิทัล </p>
                        <p class="position-absolute top-0 start-100 translate-middle rounded-pill" style="padding-top:100px;">ยืนยันเรียบร้อย </p>
                    </div>
                </div>

                <div class="container p-5 " align="center">
                    <label class="m-1 pt-5">
                        <img src="css/Data/Assets/Images/greencheck.png" style="width:25%;">
                        <p class="text-sub-reg">การลงทะเบียนสำเร็จ</p>
                        <p class="text-sub-reg-detail">ระบบได้ส่ง Username และ Password ไปยัง E-mail ของท่านแล้ว</p>
                    </label>
                </div>
                <div class="m-4">
                    <div class="end-bt">
                        <button class="btn btn-secondary bt-back-c" @onclick=BackButton>
                            <img class="end-icon" src="css/Data/Assets/Images/back.png" />
                            ย้อนกลับ
                        </button>
                        &nbsp;
                        <button class="btn btn-pimary bt-con-c" @onclick=NextButton>
                            <img class="end-icon" src="css/Data/Assets/Images/confirm.png" />
                            เข้าสู่ระบบ
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<div class="footer">
    <Footer />
</div>
@if (isloading == true)
{
    <style>body { overflow: hidden; }</style><LoadingPage></LoadingPage>
}
@code {
    public bool isloading = false;
    [Parameter]
    public int page { get; set; }

    [Parameter]
    public EventCallback<(HospitalUserM,int)> OnRegis { get; set; }

    [Parameter]
    public HospitalUserM RegisData { get; set; }

    [Parameter]
    public EventCallback<int> OnNextButton { get; set; }

    public async Task NextButton()
    {
        this.page = this.page + 1;
        await this.OnRegis.InvokeAsync((RegisData, this.page));
    }

    [Parameter]
    public EventCallback<int> OnBackButton { get; set; }

    public async Task BackButton()
    {
        this.page = this.page - 1;
        await this.OnBackButton.InvokeAsync(this.page);
    }

    [Parameter]
    public EventCallback<Register> SubmitForm { get; set; }


    public async Task BackToLogin()
    {
        NavigationManager.NavigateTo("/");
    }

}